(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-60a4890e"],{"2ff3":function(e,t,a){"use strict";var n=a("b258");a.n(n).a},"896b":function(e,t,a){"use strict";a.r(t),a("96cf");var n=a("3b8d"),s=a("d225"),l=a("b0b4"),i=a("b775"),r=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"querySeals",value:function(e){return Object(i.a)({url:"/px-sign/signSealManage/querySeals",method:"post",data:e})}},{key:"queryScene",value:function(){return Object(i.a)({url:"/px-sign/searchScene/queryScene",method:"post"})}},{key:"changeStatus",value:function(e){return Object(i.a)({url:"/px-sign/signSealManage/updateStatus",method:"post",data:e})}},{key:"sealStart",value:function(){return Object(i.a)({url:"/px-sign/pdfView",method:"post"})}}]),e}(),c={name:"test",data:function(){return{dialogVisible:!1,searchResList:[],sealNameSearch:null,sealStateSearch:null,sealTypeSearch:null,knowledgeId:null,currentPage4:1,doc:null,scene:null,search:{sealId:"",scenario:"",userId:"",sealName:"",updateTime:"",sealType:""},queryParam:{data:{sealName:null,state:null,type:null,startTime:"",endTime:"",marketId:null},pageInfo:{pageNum:1,pageSize:10,size:0,startRow:1,endRow:1,pages:0,prePage:0,nextPage:0,isFirstPage:!0,isLastPage:!0,hasPreviousPage:!1,navigatePages:0,navigatepageNums:[],navigateFirstPage:1,navigateLastPage:1,total:0}},options:[],sceneOptions:[{state:"0",label:"启用"},{state:"1",label:"禁用"},{state:"2",label:"撤销"}],typeOptions:[{type:"1",label:"交易"},{type:"2",label:"市场"},{type:"3",label:"服务"}],value:"",dataValueStart:"",dataValueEnd:"",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}}]},changeStatus:{bsElectronSealExtList:[],status:null}}},watch:{sealNameSearch:function(){""!==this.sealNameSearch?this.queryParam.data.sealName=this.sealNameSearch:this.queryParam.data.sealName=null},sealStateSearch:function(){""!==this.sealStateSearch?this.queryParam.data.state=this.sealStateSearch:this.queryParam.data.state=null},sealTypeSearch:function(){""!==this.sealTypeSearch?this.queryParam.data.type=this.sealTypeSearch:this.queryParam.data.type=null},scene:function(){""!==this.scene?this.queryParam.data.marketId=this.scene:this.queryParam.data.marketId=null},dataValueStart:function(){""!==this.dataValueStart?this.queryParam.data.startTime=this.dataValueStart:this.queryParam.data.startTime=""},dataValueEnd:function(){""!==this.dataValueEnd?this.queryParam.data.endTime=this.dataValueEnd:this.queryParam.data.endTime=""}},mounted:function(){this.queryPage(this.queryParam),this.queryScene()},methods:{searchSealApp:function(){this.queryParam.pageInfo.pageNum=1,this.queryParam.pageInfo.pageSize=10,this.queryPage(this.queryParam)},queryPage:function(e){var t=this;r.querySeals(e).then(function(e){t.searchResList=e.data.list,t.queryParam.pageInfo=e.data})},queryScene:function(){var e=this;r.queryScene().then(function(t){e.options=t.data.list})},changeStatusAllow:function(){var e=this;if(0!==this.changeStatus.bsElectronSealExtList.length){for(var t=this.changeStatus.bsElectronSealExtList,a=0,s=0;s<t.length;s++)"2"===t[s].state&&(a+=1);a>0?this.$message({message:"所选项中有已撤销的印章，已撤销的印章无法“启用”或“禁止”",type:"warning"}):this.$confirm("你确定要启用该印章吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then(Object(n.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.changeStatusApi(0);case 1:case"end":return t.stop()}},t)}))).catch(function(e){})}else this.$message({message:"请至少选择一个印章",type:"warning"})},changeStatusForbidden:function(){var e=this;if(0!==this.changeStatus.bsElectronSealExtList.length){for(var t=this.changeStatus.bsElectronSealExtList,a=0,s=0;s<t.length;s++)"2"===t[s].state&&(a+=1);a>0?this.$message({message:"所选项中有已撤销的印章，已撤销的印章无法“启用”或“禁止”",type:"warning"}):this.$confirm("你确定要禁用该印章吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.changeStatusApi(1);case 1:case"end":return t.stop()}},t)}))).catch(function(e){})}else this.$message({message:"请至少选择一个印章",type:"warning"})},changeStatusRevoke:function(){var e=this;0!==this.changeStatus.bsElectronSealExtList.length?this.$confirm("你确定要撤销该印章吗，禁用后将无法恢复?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(Object(n.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.changeStatusApi(2);case 1:case"end":return t.stop()}},t)}))).catch(function(e){}):this.$message({message:"请至少选择一个印章",type:"warning"})},changeStatusApi:function(e){var t=this;this.changeStatus.status=e,r.changeStatus(this.changeStatus).then(function(e){t.$message({message:"更新成功",type:"success"}),t.searchSealApp()})},handleSizeChange:function(e){this.queryParam.pageInfo.pageSize=e,this.queryPage(this.queryParam)},handleCurrentChange:function(e){this.queryParam.pageInfo.pageNum=e,this.queryPage(this.queryParam)},handleClose:function(e){e()},formatType:function(e,t){return"1"===e.type?"交易":"2"===e.type?"市场":"3"===e.type?"服务":""},formatState:function(e,t){return"0"===e.state?"启用":"1"===e.state?"禁用":"2"===e.state?"撤销":""},handleSelectionChange:function(e){this.changeStatus.bsElectronSealExtList=e}}},o=(a("2ff3"),a("2877")),u=Object(o.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",[n("div",{staticClass:"m-header"},[n("img",{staticClass:"headerImg",attrs:{src:a("f4f7")}}),e._v(" "),n("div",{staticClass:"icon"},[n("img",{attrs:{src:a("cac3")}})]),e._v(" "),n("h1",{staticClass:"text"},[e._v("电子印章管理")])])]),e._v(" "),n("el-header",[n("div",{staticStyle:{"margin-top":"5px"}},[e._v("\n        "),n("span",{staticClass:"demonstration"},[e._v("印章名称")]),e._v(" \n      "),n("el-input",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{clearable:"",placeholder:"印章名称",size:"small"},model:{value:e.sealNameSearch,callback:function(t){e.sealNameSearch=t},expression:"sealNameSearch"}}),e._v("\n          \n      "),n("span",{staticClass:"demonstration"},[e._v("印章状态")]),e._v(" \n      "),n("el-select",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{"value-key":"state",clearable:!0,placeholder:"请选择印章状态"},model:{value:e.sealStateSearch,callback:function(t){e.sealStateSearch=t},expression:"sealStateSearch"}},e._l(e.sceneOptions,function(t){return n("el-option",{key:t.state,attrs:{label:t.label,value:t.state},on:{change:e.changeSelect}})}),1),e._v("\n          \n      "),n("span",{staticClass:"demonstration"},[e._v("印章类型")]),e._v(" \n      "),n("el-select",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{"value-key":"type",clearable:!0,placeholder:"请选择印章状态"},model:{value:e.sealTypeSearch,callback:function(t){e.sealTypeSearch=t},expression:"sealTypeSearch"}},e._l(e.typeOptions,function(t){return n("el-option",{key:t.type,attrs:{label:t.label,value:t.type},on:{change:e.changeSelect}})}),1),e._v("\n          \n      "),n("br")],1),e._v(" "),n("div",{staticStyle:{"margin-top":"5px"}},[e._v("\n        "),n("span",{staticClass:"demonstration"},[e._v("起始日期")]),e._v(" \n      "),n("el-date-picker",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd"},model:{value:e.dataValueStart,callback:function(t){e.dataValueStart=t},expression:"dataValueStart"}}),e._v("\n          \n      "),n("span",{staticClass:"demonstration"},[e._v("结束日期")]),e._v(" \n      "),n("el-date-picker",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd"},model:{value:e.dataValueEnd,callback:function(t){e.dataValueEnd=t},expression:"dataValueEnd"}}),e._v("\n          \n      "),n("span",{staticClass:"demonstration"},[e._v("服务场景")]),e._v(" \n      "),n("el-select",{staticStyle:{width:"180px","margin-right":"8px"},attrs:{clearable:"",placeholder:"请选择服务场景"},model:{value:e.scene,callback:function(t){e.scene=t},expression:"scene"}},e._l(e.options,function(t){return n("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.value,value:e.label}})}),1)}),1),e._v(" "),n("hr")],1)]),e._v(" "),n("br"),e._v(" "),n("el-header",[n("div",{attrs:{id:"div1"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.searchSealApp}},[e._v("搜索")]),e._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.changeStatusAllow(e.scope)}}},[e._v("启用")]),e._v(" "),n("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.changeStatusForbidden(e.scope)}}},[e._v("禁用")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.changeStatusRevoke(e.scope)}}},[e._v("撤销")])],1)]),e._v(" "),n("el-main",[n("el-table",{staticStyle:{width:"100%","line-height":"20px"},attrs:{data:e.searchResList,"highlight-current-row":"",size:"small",height:"calc(100vh - 198px)",border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),n("el-table-column",{attrs:{prop:"sealId",label:"印章序号",width:"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"sealName",label:"印章名称","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"userId",label:"用户编号","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"marketId",label:"场景","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"state",formatter:e.formatState,label:"印章状态","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"type",formatter:e.formatType,label:"印章类型","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"updateTime",label:"更新时间","min-width":"160"}})],1),e._v(" "),n("div",{staticClass:"block",staticStyle:{"line-height":"2px"}},[n("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[10,20,30,40],"page-size":e.queryParam.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryParam.pageInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"详情",visible:e.dialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{staticClass:"demo-form-inline",attrs:{model:e.search,"label-width":"80px","label-position":"left",inline:!0}},[n("el-form-item",{attrs:{label:"印章序号"}},[n("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:""},model:{value:e.search.sealId,callback:function(t){e.$set(e.search,"sealId",t)},expression:"search.sealId"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"场景"}},[n("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:""},model:{value:e.search.scenario,callback:function(t){e.$set(e.search,"scenario",t)},expression:"search.scenario"}})],1)],1),e._v(" "),n("el-form",{staticClass:"demo-form-inline",attrs:{model:e.search,"label-width":"80px","label-position":"left",inline:!0}},[n("el-form-item",{attrs:{label:"申请人"}},[n("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:""},model:{value:e.search.userId,callback:function(t){e.$set(e.search,"userId",t)},expression:"search.userId"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"印章名称"}},[n("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:""},model:{value:e.search.sealName,callback:function(t){e.$set(e.search,"sealName",t)},expression:"search.sealName"}})],1)],1),e._v(" "),n("el-form",{staticClass:"demo-form-inline",attrs:{model:e.search,"label-width":"80px","label-position":"left",inline:!0}},[n("el-form-item",{attrs:{label:"申请时间"}},[n("el-col",{attrs:{span:22}},[n("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.search.updateTime,callback:function(t){e.$set(e.search,"updateTime",t)},expression:"search.updateTime"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"审批时间"}},[n("el-col",{attrs:{span:22}},[n("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.search.sealType,callback:function(t){e.$set(e.search,"sealType",t)},expression:"search.sealType"}})],1)],1)],1)],1)],1)},[],!1,null,"4ee872cd",null);t.default=u.exports},b258:function(e,t,a){}}]);